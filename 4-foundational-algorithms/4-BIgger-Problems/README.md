# Bigger Problems

## memo
Deutsch problem
* f(x):{0,1}→{0,1}
  * 1bit入力、1bit出力
  * 取り得る関数は4種類
  * 位相クエリ
    * U∣x,−⟩=(−1)^f(x) ∣x,−⟩
    * f(x)=0なら入力を保持
    * f(x)=1なら位相を反転

Deutsch problemを拡張
* f(x):{0,1}^n→{0,1}
  * n bit入力、1 bit出力
  * 取り得る関数は2^(2^n)種類
    * 出力がConstant or Balancedのどちらかだけだとする
* n bitの入力それぞれにHadamard gateを適用
  * H^(⊕n)∣00...0⟩ = ∑∣x⟩
  * 一番後ろにターゲットレジスタを付け加えると、入力は
    * ∑∣x⟩(∣0⟩−∣1⟩)
  * 出力は
    * ∑(−1)^f(x)∣x⟩(∣0⟩−∣1⟩)
    * f(x)=0の場合
      * (−1)^f(x)=1なので、項の間に位相の差分はない
    * f(x)=1の場合
      * (−1)^f(x)=-1で全ての項の位相が反転しているため、結果として項の間に位相の差分はない

量子状態を測定で区別するためには直行性が必要
* 測定する二つの状態の内積によって直行性を確認できる
  * f(x)=Constantの場合
    * ∣ϕ⟩=∑∣x⟩
  * f(x)=balancedの場合
    * ∣ψ⟩=∑∣(−1)^f(x)∣x⟩
  * 内積を取ると
    * ⟨ϕ∣ψ⟩= ∑∑(−1)^f(x)⟨m∣x⟩
    * 内積の性質から、x!=mだと⟨m∣x⟩=0、x=mだと⟨m∣x⟩=1
      * ⟨ϕ∣ψ⟩= ∑(−1)^f(x)
      * f(x)は半分が0、半分が1なので、⟨ϕ∣ψ⟩=0
    * 以上より、ConstantとBalancedは直行性を示す

入力をn bitに拡張した場合の測定方法
* 前提
  * f(x)はConstantかBalancedのどれか
* 入力
  * n個のbitにHadamard gateを適用して重ね合わせの状態にする
  * ターゲットレジスタはビット反転した後に重ね合わせの状態にする
* 出力
  * ターゲットレジスタの全てのbitにHadamard gateを適用して、計算基底で測定
  * 測定結果が全て同じ値ならConstant、そうでなければ（0と1の数が半分ずつなら）Balanced
